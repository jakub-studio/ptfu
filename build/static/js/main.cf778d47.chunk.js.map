{"version":3,"sources":["Components/Divider/index.tsx","Components/Sections/index.tsx","Hooks/AssigneeHooks.ts","Hooks/ReceiptHooks.ts","Components/Assignee/index.tsx","Components/Button/index.tsx","Components/Currency.tsx","Components/Sections/Breakdown/index.tsx","Components/Sections/Receipt/ReceiptEntry.tsx","Components/Sections/Receipt/index.tsx","Components/InputField/index.tsx","Components/Sections/Submit/SelectAssignees.tsx","Components/Sections/Submit/index.tsx","Components/Sections/Manage/index.tsx","Components/Editable/index.tsx","Components/App/index.tsx","index.tsx"],"names":["Divider","secondary","horizontal","className","c","Section","title","id","children","lastId","createId","getColour","light","Math","round","random","hue","min","max","r","floor","randomNumber","useAssignees","create","set","get","assignees","addIndividual","name","obj","colour","type","a","produce","assigneeHook","push","addGroup","members","getAssignee","find","updateReceipt","receipt","calculated","entries","indivduals","filter","receiptTotal","allMembersTotal","allMembersIndivdual","indivdualCharges","total","indivdual","entry","length","price","split","assignee","i","allMembers","calculate","getState","useReceipt","addEntry","entryData","draftReceipt","removeEntry","index","splice","clear","amount","toLocaleString","minimumFractionDigits","indent","str","AssigneeInput","onClickOut","placeholder","onSubmit","ref","useRef","useState","value","setValue","handleClickOut","event","console","log","current","contains","target","useEffect","document","addEventListener","removeEventListener","onInputSubmit","useCallback","trim","onChange","key","data","warn","preventDefault","onClick","e","stopPropagation","size","autoFocus","Assignee","props","state","displayInput","onOuterClick","bind","renderCheckbox","getStyle","canBecomeInput","renderChildren","onInputHide","isClickable","this","input","Boolean","setState","onInput","style","backgroundColor","dashed","checkbox","classNames","clickable","tabIndex","React","Component","AssigneeList","Button","submit","primary","width100","Currency","symbol","Breakdown","onCopy","navigator","clipboard","writeText","Object","keys","map","join","description","flat","printReceipt","_array","ReceiptEntry","onDelete","Receipt","InputField","number","autofocus","error","changeHandler","newValue","nativeEvent","pointCount","isNaN","parseInt","autoComplete","createRemoveAssigneeCallback","currentAssignees","setAssignees","aid","SelectAssignees","isAllMembers","isActive","includes","Array","from","Set","itemDescID","itemPriceID","focusItemDesc","getElementById","focus","Submit","desc","setDesc","setPrice","descError","setDescError","priceError","setPriceError","focusItemPrice","parseFloat","onDescChange","onPriceChange","Manage","clearReceipt","Editable","editing","isEditing","onButtonClick","onCancel","onFormSubmit","FormData","currentTarget","large","defaultValue","App","onNameChange","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.cf778d47.chunk.js","sourcesContent":["import React from \"react\";\r\nimport c from \"classnames\";\r\nimport \"./divider.css\";\r\n\r\ninterface DividerProps {\r\n\tsecondary?: boolean;\r\n\thorizontal?: boolean;\r\n}\r\n\r\nconst Divider: React.FC<DividerProps> = ({secondary, horizontal}) => {\r\n\treturn <div className={c(\r\n\t\tsecondary ? \"divider-secondary\" : \"divider-primary\",\r\n\t\thorizontal ? \"divider-horizontal\" : \"divider-vertical\"\r\n\t)}/>\r\n}\r\n\r\nexport default Divider;","import React from \"react\";\r\nimport Divider from \"../Divider\";\r\nimport \"./section.css\"\r\n\r\nconst Section: React.FC<{\r\n\ttitle: string\r\n\tid: string;\r\n}> = ({title, id, children}) => {\r\n\treturn <div className=\"section\" id={id}>\r\n\t\t<h1 className=\"mb-8 lineheight80\">{title}</h1>\r\n\t\t<Divider horizontal />\r\n\t\t{children}\r\n\t</div>\r\n}\r\n\r\nexport default Section;","import create, { State } from \"zustand\";\nimport produce from \"immer\";\n\n\ninterface ReceiptHook extends State {\n\tassignees: PTFU.EntryAssignable[];\n\taddIndividual: (name: string) => PTFU.Indivdual;\n\taddGroup: (name: string, members?: string[]) => PTFU.Group;\n\tgetAssignee: (id: string) => PTFU.EntryAssignable | undefined;\n}\n\nlet lastId = 0;\n\nconst createId = (): string => {\n\treturn `assignee-${++lastId}`;\n}\n\nconst randomNumber = (min: number, max: number): number =>{\n    const r = Math.random() * (max - min) + min\n    return Math.floor(r)\n}\n\nconst getColour = () => {\n\tconst light = Math.round(Math.random()); // either 1 or 0, essentially a boolean\n\tconst hue = randomNumber(0, 359);\n\n\treturn `hsl(${hue}, 100%, ${light ? 85 : 75}%)`;\n}\n\nconst useAssignees = create<ReceiptHook>((set, get) => ({\n\tassignees: [],\n\taddIndividual: name => {\n\t\tconst obj: PTFU.Indivdual = {\n\t\t\tname,\n\t\t\tcolour: getColour(),\n\t\t\ttype: \"indivdual\",\n\t\t\tid: createId()\n\t\t}\n\n\t\tset(a => produce(a, assigneeHook => {\n\t\t\tassigneeHook.assignees.push(obj)\n\t\t}));\n\n\t\treturn obj;\n\t},\n\taddGroup: (name, members) => {\n\t\tconst obj: PTFU.Group = {\n\t\t\tname,\n\t\t\tcolour: getColour(),\n\t\t\ttype: \"group\",\n\t\t\tid: createId(),\n\t\t\tmembers: members ? members: []\n\t\t}\n\n\t\tset(a => produce(a, assigneeHook => {\n\t\t\tassigneeHook.assignees.push(obj)\n\t\t}));\n\n\t\treturn obj;\n\t},\n\tgetAssignee: id => {\n\t\treturn get().assignees.find(a => a.id === id)\n\t}\n}));\n\nexport default useAssignees;","import create, { State } from \"zustand\";\r\nimport produce from \"immer\";\r\nimport useAssignees from \"./AssigneeHooks\";\r\n\r\ninterface Charge {\r\n\ttotal: number;\r\n\tindivdual: number;\r\n}\r\n\r\ninterface ReceiptCalculated {\r\n\ttotal: number;\r\n\tallMembers: Charge;\r\n\tindivduals: Record<string, Charge>\r\n}\r\n\r\nconst calculate = (entries: PTFU.ReceiptEntry[], assignees: PTFU.EntryAssignable[]): ReceiptCalculated => {\r\n\tconst indivduals = assignees.filter(a => a.type === \"indivdual\") as PTFU.Indivdual[];\r\n\r\n\tlet receiptTotal = 0;\r\n\tlet allMembersTotal = 0;\r\n\tlet allMembersIndivdual = 0;\r\n\tconst indivdualCharges: ReceiptCalculated[\"indivduals\"] = {}\r\n\r\n\tfor (const indivdual of indivduals) {\r\n\t\tindivdualCharges[indivdual.id] = {\r\n\t\t\ttotal: 0,\r\n\t\t\tindivdual: 0\r\n\t\t}\r\n\t}\r\n\r\n\tfor (const entry of entries) {\r\n\t\tconst isForAllMembers = entry.assignees.length === 0;\r\n\r\n\t\tif (isForAllMembers) {\r\n\t\t\tallMembersTotal = allMembersTotal + entry.price;\r\n\t\t\tallMembersIndivdual = (allMembersTotal / indivduals.length)\r\n\t\t} else {\r\n\t\t\tconst split = entry.price / entry.assignees.length;\r\n\t\t\t\r\n\t\t\tfor (const assignee of entry.assignees) {\r\n\t\t\t\tindivdualCharges[assignee].indivdual = indivdualCharges[assignee].indivdual + split\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treceiptTotal = receiptTotal + entry.price\r\n\t}\r\n\r\n\tfor (const indivdual of indivduals) {\r\n\t\tconst i = indivdualCharges[indivdual.id]\r\n\t\ti.total = i.total + i.indivdual + allMembersIndivdual\r\n\t}\r\n\r\n\treturn {\r\n\t\ttotal: receiptTotal,\r\n\t\tallMembers: {\r\n\t\t\ttotal: allMembersTotal,\r\n\t\t\tindivdual: allMembersIndivdual\r\n\t\t},\r\n\t\tindivduals: indivdualCharges\r\n\t}\r\n}\r\n\r\ninterface ReceiptHook extends State {\r\n\tname: string;\r\n\tentries: PTFU.ReceiptEntry[];\r\n\tcalculated: ReceiptCalculated;\r\n\taddEntry: (entryData: PTFU.ReceiptEntry) => void;\r\n\tremoveEntry: (index: number) => void;\r\n\tclear: () => void;\r\n}\r\n\r\nconst updateReceipt = (receipt: ReceiptHook): ReceiptHook => {\r\n\treceipt.calculated = calculate(receipt.entries, useAssignees.getState().assignees);\r\n\treturn receipt;\r\n}\r\n\r\nconst useReceipt = create<ReceiptHook>((set, get) => ({\r\n\tname: \"Untitled Shop\",\r\n\tentries: [],\r\n\tcalculated: {\r\n\t\ttotal: 0,\r\n\t\tallMembers: {\r\n\t\t\ttotal: 0,\r\n\t\t\tindivdual: 0\r\n\t\t},\r\n\t\tindivduals: {}\r\n\t},\r\n\taddEntry: entryData => set(r => produce(r, draftReceipt => {\r\n\t\tdraftReceipt.entries.push(entryData)\r\n\t\tupdateReceipt(draftReceipt)\r\n\t})),\r\n\tremoveEntry: index => set(r => produce(r, draftReceipt => {\r\n\t\tif (index > -1) draftReceipt.entries.splice(index, 1);\r\n\t\tupdateReceipt(draftReceipt)\r\n\t})),\r\n\tclear: () => set(r => produce(r, draftReceipt => {\r\n\t\tdraftReceipt.entries = []\r\n\t\tupdateReceipt(draftReceipt)\r\n\t}))\r\n}));\r\n\r\nconst price = (amount: number) => \"£\" + amount.toLocaleString(\"en\", {minimumFractionDigits: 2});\r\nconst indent = (str: string) => \"  -  \" + str;\r\n\r\nconst printReceipt = (receipt: ReceiptHook, assignees: PTFU.EntryAssignable[]): string => {\r\n\treturn [\r\n\t\t`Receipt Breakdown - ${receipt.name}`,\r\n\t\t\"\",\r\n\t\t`Total Receipt Charge: ${price(receipt.calculated.total)}`,\r\n\t\t\"\",\r\n\t\t\"All Members:\",\r\n\t\tindent(`Total Charge: ${price(receipt.calculated.allMembers.total)}`),\r\n\t\tindent(`Individual Charge: ${price(receipt.calculated.allMembers.indivdual)}`),\r\n\t\t\"\",\r\n\t\tObject.keys(receipt.calculated.indivduals).map(id => {\r\n\t\t\tconst a = assignees.find(assignee => assignee.id === id);\r\n\t\t\tif (!a) return \"\";\r\n\t\t\treturn [\r\n\t\t\t\t`${a.name}:`,\r\n\t\t\t\t`Total Charge: ${price(receipt.calculated.indivduals[a.id].total)}`,\r\n\t\t\t\treceipt.calculated.indivduals[a.id].indivdual === 0 ? \"\" : `(Individual Charge: ${price(receipt.calculated.indivduals[a.id].indivdual)})`,\r\n\t\t\t].join(\" \").trim()\r\n\t\t}),\r\n\t\t\"\",\r\n\t\t\"Receipt Items:\",\r\n\t\treceipt.entries.map(e => (\r\n\t\t\t`${e.description} - ${price(e.price)} (${e.assignees.length === 0 ? \"All\" : e.assignees.map(a => {\r\n\t\t\t\tconst assignee = assignees.find(assignee => assignee.id === a);\r\n\t\t\t\tif (!a) return null;\r\n\t\t\t\telse return assignee?.name\r\n\t\t\t}).filter(Boolean).join(\", \")})`\r\n\t\t))\r\n\t].flat().join(\"\\n\")\r\n}\r\n\r\nexport {\r\n\tuseReceipt,\r\n\tprintReceipt\r\n}","import classNames from \"classnames\";\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport \"./assignee.css\";\n\ninterface AssigneeProps {\n\tcolour?: string;\n\tonClick?: () => void;\n\tcheckbox?: boolean;\n\tdashed?: boolean;\n\tinput?: {\n\t\tplaceholder: string;\n\t\tonInput: (data: string) => void;\n\t};\n}\n\ninterface AssigneeState {\n\tdisplayInput: boolean;\n}\n\nconst defaultColour = \"hsl(0, 0%, 90%)\";\n\ninterface AssigneeInputProps {\n\tonClickOut: () => void;\n\tplaceholder?: string;\n\tonSubmit: (value: string) => void;\n}\n\nconst AssigneeInput: React.FC<AssigneeInputProps> = ({onClickOut, placeholder, onSubmit}) => {\n\tconst ref = useRef<HTMLInputElement>(null);\n\tconst [value, setValue] = useState(\"\");\n\t\n\tconst handleClickOut = (event: MouseEvent) => {\n\t\tconsole.log(event)\n\t\tif (ref.current && !ref.current.contains(event.target as Node)) {\n\t\t\tconsole.log(\"click out event\")\n\t\t\tonClickOut();\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('click', handleClickOut);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('click', handleClickOut);\n\t\t};\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tconst onInputSubmit = useCallback(() => {\n\t\tconst valueToSubmit = value.trim();\n\t\tif (valueToSubmit === \"\") return;\n\n\t\tonSubmit(value.trim());\n\t\tonClickOut();\n\t}, [value, onSubmit, onClickOut]);\n\n\tconst onChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst key = (event[\"nativeEvent\"] as InputEvent).data;\n\n\t\tconsole.log(key)\n\n\t\tif (key === \"Enter\") {\n\t\t\tconsole.warn(\"enter key hit\")\n\t\t\tevent.preventDefault();\n\t\t\treturn onInputSubmit();\n\t\t}\n\n\t\tsetValue(event.target.value);\n\t}, [setValue, onInputSubmit]);\n\n\treturn <div className=\"assignee-input-container\" onClick={e => {\n\t\te.stopPropagation()\n\t\te.preventDefault()\n\t}}>\n\t\t<input\n\t\t\tsize={10}\n\t\t\tautoFocus\n\t\t\tvalue={value}\n\t\t\tonChange={onChange}\n\t\t\tonClick={e => {\n\t\t\t\te.stopPropagation()\n\t\t\t\te.preventDefault()\n\t\t\t}}\n\t\t\tplaceholder={placeholder}\n\t\t\tclassName=\"use-blue-focus\"\n\t\t\tref={ref}\n\t\t/>\n\t\t<div onClick={onInputSubmit} className=\"submit-button\">+</div>\n\t</div>;\n}\n\nclass Assignee extends React.Component<AssigneeProps, AssigneeState> {\n\tconstructor(props: AssigneeProps) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tdisplayInput: false\n\t\t}\n\n\t\tthis.onOuterClick = this.onOuterClick.bind(this);\n\t\tthis.renderCheckbox = this.renderCheckbox.bind(this);\n\t\tthis.getStyle = this.getStyle.bind(this);\n\t\tthis.canBecomeInput = this.canBecomeInput.bind(this);\n\t\tthis.renderChildren = this.renderChildren.bind(this);\n\t\tthis.onInputSubmit = this.onInputSubmit.bind(this);\n\t\tthis.onInputHide = this.onInputHide.bind(this);\n\t\tthis.isClickable = this.isClickable.bind(this);\n\t}\n\n\tcanBecomeInput (): boolean {\n\t\treturn typeof this.props.input === \"object\";\n\t}\n\tisClickable (): boolean {\n\t\treturn Boolean(this.props.onClick || this.canBecomeInput())\n\t}\n\tonOuterClick (event: React.MouseEvent<HTMLButtonElement>) {\n\t\tconst { onClick } = this.props;\n\n\t\tevent.preventDefault();\n\n\t\tif (typeof onClick === \"function\") {\n\t\t\treturn onClick();\n\t\t}\n\n\t\tif (this.canBecomeInput() && this.state.displayInput === false) {\n\t\t\tthis.setState({displayInput: true})\n\t\t}\n\t}\n\tonInputSubmit (data: string) {\n\t\tthis.props.input?.onInput(data);\n\t}\n\tonInputHide () {\n\t\tthis.setState({displayInput: false});\n\t}\n\n\tgetStyle (): React.CSSProperties {\n\t\tconst { colour, dashed } = this.props;\n\n\t\tconst style: React.CSSProperties = {\n\t\t\tbackgroundColor: colour ? colour : defaultColour\n\t\t}\n\t\n\t\tif (dashed) {\n\t\t\tstyle.backgroundColor = void 0;\n\t\t}\n\n\t\treturn style;\n\t}\n\trenderCheckbox (): React.ReactNode {\n\t\treturn (\n\t\t\ttypeof this.props.checkbox === \"boolean\" && <div className={classNames(\"checkbox\", `checkbox-${this.props.checkbox}`)} />\n\t\t)\n\t}\n\trenderChildren (): React.ReactNode {\n\t\treturn this.state.displayInput ?\n\t\t\t<AssigneeInput\n\t\t\t\tonSubmit={this.onInputSubmit}\n\t\t\t\tonClickOut={this.onInputHide}\n\t\t\t\tplaceholder={this.props.input?.placeholder}\n\t\t\t/> : this.props.children;\n\t}\n\trender() {\n\t\tconst { dashed } = this.props;\n\t\tconst clickable = this.isClickable()\n\n\t\treturn <button\n\t\t\tclassName={classNames(\"assignee use-blue-focus\", dashed && \"dashed\", clickable && \"clickable\")}\n\t\t\tonClick={this.onOuterClick}\n\t\t\tstyle={this.getStyle()}\n\t\t\ttabIndex={clickable ? 0 : -1}\n\t\t>\n\t\t\t{this.renderCheckbox()}\n\t\t\t{this.renderChildren()}\n\t\t</button>\n\t}\n}\n\nconst AssigneeList: React.FC = ({ children }) => {\n\treturn <div className=\"assignee-list\">\n\t\t{children}\n\t</div>\n}\n\nexport default Assignee;\nexport {\n\tAssigneeList\n}","import React from \"react\";\r\nimport c from \"classnames\";\r\nimport \"./button.css\"\r\n\r\ninterface ButtonProps {\r\n\tonClick?: () => void;\r\n\tsubmit?: boolean;\r\n\tprimary?: boolean;\r\n\tchildren: string;\r\n\tclassName?: string;\r\n\twidth100?: boolean;\r\n}\r\n\r\nconst Button: React.FC<ButtonProps> = ({\r\n\tonClick,\r\n\tsubmit,\r\n\tprimary,\r\n\tchildren,\r\n\tclassName,\r\n\twidth100\r\n}) => {\r\n\treturn <input\r\n\t\tonClick={onClick}\r\n\t\ttype={submit ? \"submit\" : \"button\"}\r\n\t\tvalue={children}\r\n\t\tclassName={c(\"button use-blue-focus\", {\r\n\t\t\t\"button-primary\": primary,\r\n\t\t\t\"width-100\": width100\r\n\t\t} , className)}\r\n\t/>\r\n}\r\n\r\nexport default Button","import React from \"react\";\r\n\r\ninterface CurrencyProps {\r\n\tvalue: number;\r\n\tsymbol?: string;\r\n}\r\n\r\nconst Currency: React.FC<CurrencyProps> = ({value, symbol}: CurrencyProps) => {\r\n\treturn <>\r\n\t\t{symbol || \"£\"}\r\n\t\t{value.toLocaleString(\"en\", {minimumFractionDigits: 2})}\r\n\t</>\r\n}\r\n\r\nexport default Currency","import React, { useCallback } from \"react\";\r\nimport Section from \"../\";\r\nimport useAssignees from \"../../../Hooks/AssigneeHooks\";\r\nimport { useReceipt, printReceipt } from \"../../../Hooks/ReceiptHooks\";\r\nimport Assignee, { AssigneeList } from \"../../Assignee\";\r\nimport Button from \"../../Button\";\r\nimport Currency from \"../../Currency\";\r\nimport Divider from \"../../Divider\";\r\n\r\n\r\n\r\nconst Breakdown: React.FC = () => {\r\n\tconst receipt = useReceipt();\r\n\tconst { calculated } = receipt;\r\n\tconst { getAssignee, assignees } = useAssignees();\r\n\r\n\tconst onCopy = useCallback(() => {\r\n\t\tnavigator.clipboard.writeText(\r\n\t\t\tprintReceipt(receipt, assignees)\r\n\t\t)\r\n\t}, [receipt, assignees])\r\n\r\n\treturn <Section title=\"breakdown\" id=\"section-manage\">\r\n\t\t\t\t<div className=\"receipt-item lineheight80\">\r\n\t\t\t\t\t<b>total</b>\r\n\t\t\t\t\t<b><Currency value={calculated.total} /></b>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Divider horizontal secondary />\r\n\t\t\t\t<AssigneeList>\r\n\t\t\t\t\t<Assignee>All Members</Assignee>\r\n\t\t\t\t\t<h2>Total: <Currency value={calculated.allMembers.total} /></h2>\r\n\t\t\t\t\t<h2>Indivdual: <Currency value={calculated.allMembers.indivdual} /></h2>\r\n\t\t\t\t</AssigneeList>\r\n\t\t\t\t<div className=\"mb-8\" />\r\n\t\t\t\t{Object.keys(calculated.indivduals).map((id, index, _array) => {\r\n\t\t\t\t\tconst assignee = getAssignee(id);\r\n\t\t\t\t\tif (!assignee) return null;\r\n\r\n\t\t\t\t\treturn <>\r\n\t\t\t\t\t<AssigneeList key={assignee.id}>\r\n\t\t\t\t\t\t<Assignee colour={assignee.colour}>{assignee.name}</Assignee>\r\n\t\t\t\t\t\t<h2>Total: <Currency value={calculated.indivduals[id].total} /></h2>\r\n\t\t\t\t\t\t<h2>Indivdual: <Currency value={calculated.indivduals[id].indivdual} /></h2>\r\n\t\t\t\t\t</AssigneeList>\r\n\t\t\t\t\t{_array.length !== index + 1 && <div className=\"mb-8\" />}\r\n\t\t\t\t\t</>\r\n\t\t\t\t})}\r\n\t\t\t\t<Divider horizontal/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button onClick={onCopy}>copy</Button>\r\n\t\t\t\t</div>\r\n\t</Section>\r\n}\r\n\r\nexport default Breakdown;","import React, { useCallback } from \"react\";\r\nimport Currency from \"../../Currency\";\r\nimport { useReceipt } from \"../../../Hooks/ReceiptHooks\";\r\nimport useAssignees from \"../../../Hooks/AssigneeHooks\";\r\nimport Assignee, { AssigneeList } from \"../../Assignee\";\r\n\r\ninterface ReceiptEntryProps {\r\n\tentry: PTFU.ReceiptEntry;\r\n\tindex: number;\r\n}\r\n\r\nconst ReceiptEntry: React.FC<ReceiptEntryProps> = ({ entry, index }) => {\r\n\tconst { removeEntry } = useReceipt();\r\n\tconst { getAssignee } = useAssignees();\r\n\r\n\tconst onDelete = useCallback(() => {\r\n\t\tremoveEntry(index);\r\n\t}, [index, removeEntry]);\r\n\r\n\treturn <div className=\"receipt-entry-container\">\r\n\t\t<div className=\"receipt-item lineheight80 receipt-entry\">\r\n\t\t\t<AssigneeList>\r\n\t\t\t\t<span>{entry.description}</span>\r\n\t\t\t\t{entry.assignees.length === 0 && <Assignee>All Members</Assignee>}\r\n\t\t\t\t{entry.assignees.map(a => {\r\n\t\t\t\t\tconst assignee = getAssignee(a);\r\n\t\t\t\t\tif (!assignee) return null;\r\n\t\t\t\t\treturn <Assignee key={assignee.id} colour={assignee.colour}>{assignee.name}</Assignee>\r\n\t\t\t\t})}\r\n\t\t\t</AssigneeList>\r\n\t\t\t<span>\r\n\t\t\t\t<Currency value={entry.price} />\r\n\t\t\t\t<button className=\"receipt-delete-entry-button\" onClick={onDelete}>x</button>\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t</div>\r\n}\r\n\r\nexport default ReceiptEntry;","import React from \"react\";\r\nimport Section from \"../\";\r\nimport \"./receipt.css\";\r\nimport Divider from \"../../Divider\";\r\nimport Currency from \"../../Currency\";\r\nimport { useReceipt } from \"../../../Hooks/ReceiptHooks\";\r\nimport ReceiptEntry from \"./ReceiptEntry\";\r\n\r\nconst Receipt: React.FC = () => {\r\n\tconst { entries } = useReceipt();\r\n\r\n\treturn <Section title=\"receipt\" id=\"section-receipt\">\r\n\t\t<div className=\"receipt-container\">\r\n\t\t\t<div className=\"receipt-entries\">\r\n\t\t\t\t{entries.map((e, i) => <ReceiptEntry entry={e} key={i} index={i} />)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</Section>\r\n}\r\n\r\nexport default Receipt;","import classNames from \"classnames\";\r\nimport React from \"react\";\r\nimport \"./input.css\"\r\n\r\ninterface InputFieldProps {\r\n\tvalue: string;\r\n\tonChange: (value: string) => void;\r\n\tplaceholder?: string;\r\n\tnumber?: boolean;\r\n\tautofocus?: boolean;\r\n\tid?: string;\r\n\tsize?: number;\r\n\terror?: string;\r\n}\r\n\r\nconst InputField: React.FC<InputFieldProps> = ({\r\n\tvalue,\r\n\tonChange,\r\n\tplaceholder,\r\n\tnumber,\r\n\tautofocus,\r\n\tid,\r\n\tsize,\r\n\terror\r\n}) => {\r\n\tconst changeHandler = React.useCallback<(event: { nativeEvent: InputEvent, target: HTMLInputElement }) => void>(event => {\r\n\t\tconst { value: newValue } = event.target;\r\n\t\tconst key = event.nativeEvent.data;\r\n\r\n\t\tif (!number) return onChange(newValue);\r\n\r\n\t\tconst split = newValue.split(\".\");\r\n\t\tconst pointCount = split.length - 1;\r\n\r\n\t\tif (key === null) return onChange(newValue); // null is backspace\r\n\t\tif (key === \".\") {\r\n\t\t\tif (pointCount >= 2) return;\r\n\t\t\treturn onChange(newValue);\r\n\t\t}\r\n\t\tif (isNaN(parseInt(key, 10))) return;\r\n\t\tif (pointCount === 1 && split[1].length >= 3) return; // ensure you can't have two decimal points\r\n\r\n\t\tonChange(newValue);\r\n\t}, [onChange, number])\r\n\r\n\treturn <div className=\"input-field-container\">\r\n\t\t<input\r\n\t\t\tautoFocus={autofocus}\r\n\t\t\tclassName={classNames(\"input-field use-blue-focus\", error && \"error\")}\r\n\t\t\tvalue={value}\r\n\t\t\tonChange={changeHandler as any}\r\n\t\t\tplaceholder={placeholder}\r\n\t\t\tid={id}\r\n\t\t\tautoComplete=\"off\"\r\n\t\t\tsize={size}\r\n\t\t/>\r\n\t\t{typeof error === \"string\" && <div className=\"error-box\"><span>error:</span>{error}</div>}\r\n\t</div>\r\n}\r\n\r\nexport default InputField","import React from \"react\";\r\nimport useAssignees from \"../../../Hooks/AssigneeHooks\";\r\nimport Assignee, { AssigneeList } from \"../../Assignee\";\r\nimport Divider from \"../../Divider\";\r\n\r\ninterface SelectAssigneesProps {\r\n\tassignees: string[];\r\n\tsetAssignees: (newAssignees: string[]) => void;\r\n}\r\n\r\nconst createAddAssigneeCallback = (\r\n\tcurrentAssignees: string[],\r\n\tsetAssignees: (newAssignees: string[]) => void,\r\n\tid: string\r\n) => {\r\n\treturn () => setAssignees(Array.from(new Set(\r\n\t\t[...currentAssignees, id]\r\n\t)))\r\n};\r\n\r\nconst createRemoveAssigneeCallback = (\r\n\tcurrentAssignees: string[],\r\n\tsetAssignees: (newAssignees: string[]) => void,\r\n\tid: string\r\n) => {\r\n\treturn () => setAssignees(\r\n\t\tcurrentAssignees.filter(aid => aid !== id)\r\n\t)\r\n};\r\n\r\nconst SelectAssignees: React.FC<SelectAssigneesProps> = props => {\r\n\tconst { assignees, addIndividual, getAssignee, } = useAssignees();\r\n\tconst isAllMembers = props.assignees.length === 0;\r\n\r\n\tconsole.log(props.assignees)\r\n\r\n\treturn <div className=\"mb-8\">\r\n\t\t\t<AssigneeList>\r\n\t\t\t\t<h2>Assigned to:</h2>\r\n\t\t\t\t{isAllMembers && <Assignee>All Members</Assignee>}\r\n\t\t\t\t{props.assignees.map(id => {\r\n\t\t\t\t\tconst a = getAssignee(id);\r\n\t\t\t\t\tif (!a) return null;\r\n\r\n\t\t\t\t\treturn <Assignee key={id} colour={a.colour} onClick={createRemoveAssigneeCallback(props.assignees, props.setAssignees, a.id)}>{a.name}</Assignee>\r\n\t\t\t\t})}\r\n\t\t\t</AssigneeList>\r\n\r\n\t\t<Divider horizontal secondary />\r\n\r\n\t\t<AssigneeList>\r\n\t\t\t{assignees.map(a => {\r\n\t\t\t\tconst isActive = props.assignees.includes(a.id);\r\n\t\t\t\treturn <Assignee\r\n\t\t\t\t\tkey={a.id}\r\n\t\t\t\t\tcheckbox={isActive}\r\n\t\t\t\t\tcolour={a.colour}\r\n\t\t\t\t\tonClick={isActive ? createRemoveAssigneeCallback(props.assignees, props.setAssignees, a.id) : createAddAssigneeCallback(props.assignees, props.setAssignees, a.id)}\r\n\t\t\t\t>{a.name}</Assignee>\r\n\t\t\t})}\r\n\t\t\t<Assignee dashed input={{placeholder: \"name\", onInput: addIndividual}}>+</Assignee>\r\n\t\t</AssigneeList>\r\n\t</div>;\r\n}\r\n\r\nexport default SelectAssignees","import React, { useCallback, useState } from \"react\";\r\nimport Section from \"../\";\r\nimport InputField from \"../../InputField\";\r\nimport Button from \"../../Button\";\r\nimport SelectAssignees from \"./SelectAssignees\";\r\nimport \"./submit.css\"\r\nimport { useReceipt } from \"../../../Hooks/ReceiptHooks\";\r\n\r\nconst itemDescID = \"submit-item-desc-input\";\r\nconst itemPriceID = \"submit-item-price-input\";\r\n\r\nconst focusItemDesc = () => document.getElementById(itemDescID)?.focus();\r\nconst focusItemPrice = () => document.getElementById(itemPriceID)?.focus();\r\n\r\nconst Submit: React.FC = () => {\r\n\tconst [desc, setDesc] = useState(\"\");\r\n\tconst [price, setPrice] = useState(\"\");\r\n\tconst [descError, setDescError] = useState<string | undefined>(void 0);\r\n\tconst [priceError, setPriceError] = useState<string | undefined>(void 0);\r\n\tconst [assignees, setAssignees] = useState<string[]>([]);\r\n\tconst addEntry = useReceipt(r => r.addEntry);\r\n\r\n\tconst onSubmit = React.useCallback<(event: React.FormEvent<HTMLFormElement>) => void>(event => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tif (desc.trim() === \"\") {\r\n\t\t\tsetDescError(\"description missing\");\r\n\t\t\tfocusItemDesc();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (price.trim() === \"\") {\r\n\t\t\tsetPriceError(\"price missing\");\r\n\t\t\tfocusItemPrice();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\taddEntry({\r\n\t\t\tdescription: desc.trim(),\r\n\t\t\tprice: parseFloat(price.trim()),\r\n\t\t\tassignees\r\n\t\t});\r\n\r\n\t\tsetDesc(\"\")\r\n\t\tsetPrice(\"\")\r\n\r\n\t\tfocusItemDesc();\r\n\t}, [desc, price, addEntry, assignees]);\r\n\r\n\tconst onDescChange = useCallback((data: string) => {\r\n\t\tif (descError) setDescError(void 0);\r\n\t\t\r\n\t\tsetDesc(data)\r\n\t}, [descError, setDescError, setDesc]);\r\n\r\n\tconst onPriceChange = useCallback((data: string) => {\r\n\t\tif (priceError) setPriceError(void 0);\r\n\t\t\r\n\t\tsetPrice(data)\r\n\t}, [priceError, setPriceError, setPrice]);\r\n\r\n\treturn <Section title=\"submit\" id=\"section-submit\">\r\n\t\t<form onSubmit={onSubmit}>\r\n\t\t\t<div className=\"input-array mb-8\">\r\n\t\t\t\t<InputField\r\n\t\t\t\t\tautofocus\r\n\t\t\t\t\tplaceholder=\"item description\"\r\n\t\t\t\t\tvalue={desc}\r\n\t\t\t\t\tonChange={onDescChange}\r\n\t\t\t\t\tid={itemDescID}\r\n\t\t\t\t\terror={descError}\r\n\t\t\t\t/>\r\n\t\t\t\t<InputField\r\n\t\t\t\t\tplaceholder=\"£ item price\"\r\n\t\t\t\t\tvalue={price}\r\n\t\t\t\t\tonChange={onPriceChange}\r\n\t\t\t\t\tnumber\r\n\t\t\t\t\tid={itemPriceID}\r\n\t\t\t\t\terror={priceError}\r\n\t\t\t\t\tsize={30}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<SelectAssignees assignees={assignees} setAssignees={setAssignees} />\r\n\t\t\t<Button primary submit width100 className=\"mb-8\">+ add to receipt</Button>\r\n\t\t</form>\r\n\t</Section>\r\n}\r\n\r\nexport default Submit;","import React from \"react\";\r\nimport Section from \"../\";\r\nimport Button from \"../../Button\";\r\nimport \"./manage.css\"\r\nimport { useReceipt } from \"../../../Hooks/ReceiptHooks\";\r\nimport useAssignees from \"../../../Hooks/AssigneeHooks\";\r\n\r\nconst Manage: React.FC = () => {\r\n\tconst clearReceipt = useReceipt(e => e.clear);\r\n\r\n\treturn <Section title=\"manage\" id=\"section-manage\">\r\n\t\t<div className=\"button-array\">\r\n\t\t\t{/* <Button>edit indivudals</Button>\r\n\t\t\t<Button>edit groups</Button>\r\n\t\t\t<Button>import receipt</Button>\r\n\t\t\t<Button>export receipt</Button> */}\r\n\t\t\t<Button onClick={clearReceipt}>clear receipt</Button>\r\n\t\t\t<Button onClick={() => useAssignees.setState({assignees: []})}>clear indivduals</Button>\r\n\t\t</div>\r\n\t</Section>\r\n}\r\n\r\nexport default Manage;","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport c from \"classnames\";\nimport \"./editable.css\";\n\ninterface EditableProps {\n\tvalue: string;\n\tonChange: (val: string) => void;\n\tlarge?: boolean;\n}\n\nconst Editable: React.FC<EditableProps> = props => {\n\tconst [editing, isEditing] = useState(false);\n\tconst ref = useRef<HTMLButtonElement>(null);\n\n\tconst onButtonClick = useCallback(() => {\n\t\tisEditing(true)\n\t}, []);\n\n\tconst onCancel = useCallback(() => {\n\t\tisEditing(false)\n\t}, []);\n\n\tconst onFormSubmit = useCallback((event: React.FormEvent<HTMLFormElement>) => {\n\t\tevent.preventDefault();\n\t\tconst data = new FormData(event.currentTarget);\n\t\tprops.onChange((data.get(\"value\") as string).trim());\n\t\tisEditing(false);\n\t}, [props]);\n\n\tconst handleClickOut = (event: MouseEvent) => {\n\t\tif (ref.current && !ref.current.contains(event.target as Node)) {\n\t\t\tonCancel()\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('click', handleClickOut);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('click', handleClickOut);\n\t\t};\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\treturn <button\n\t\tclassName={c(\"editable use-blue-focus\", props.large && \"large\", editing ? \"editing\" : \"idle\")}\n\t\tonClick={onButtonClick}\n\t\tref={ref}\n\t\t>\n\t\t{editing ? <form onSubmit={onFormSubmit}>\n\t\t\t<input\n\t\t\t\tname=\"value\"\n\t\t\t\tdefaultValue={props.value}\n\t\t\t\tautoFocus\n\t\t\t\tclassName={c(\"use-blue-focus\", props.large && \"large\")}\n\t\t\t\tsize={15}\n\t\t\t/>\n\t\t</form> : props.value}\n\t</button>\n}\n\nexport default Editable","import React, { useCallback } from \"react\";\r\nimport \"./app.css\"\r\nimport Breakdown from \"../Sections/Breakdown\";\r\nimport Divider from \"../Divider\";\r\nimport Receipt from \"../Sections/Receipt\";\r\nimport Submit from \"../Sections/Submit\";\r\nimport Manage from \"../Sections/Manage\";\r\nimport { useReceipt } from \"../../Hooks/ReceiptHooks\";\r\nimport Editable from \"../Editable\";\r\n\r\nconst App = () => {\r\n\tconst name = useReceipt(r => r.name);\r\n\r\n\tconst onNameChange = useCallback((name: string) => {\r\n\t\tuseReceipt.setState({name})\r\n\t}, []);\r\n\r\n\treturn <div className=\"app\">\r\n\t\t<div className=\"app-header\">\r\n\t\t\t<div className=\"app-logo\">\r\n\t\t\t\t<h1>💵 pay the f*** up</h1>\r\n\t\t\t</div>\r\n\t\t\t<Editable large value={name} onChange={onNameChange} />\r\n\t\t</div>\r\n\t\t<div className=\"app-sections\">\r\n\t\t\t<Breakdown />\r\n\t\t\t<Divider />\r\n\t\t\t<Receipt />\r\n\t\t\t<Divider />\r\n\t\t\t<div className=\"section\">\r\n\t\t\t\t<Submit />\r\n\t\t\t\t<Manage />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}